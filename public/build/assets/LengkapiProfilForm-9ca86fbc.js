import{W as y,r as j,j as t}from"./app-4d736824.js";import{e as x}from"./index-99e30f08.js";import{G as b}from"./GoalsButton-eb73f0ba.js";import{G as o}from"./GoalsTextInput-142a87c2.js";import"./iconBase-42329843.js";const D=({userProfile:n,setUserProfile:f,show:m,setShow:u})=>{const{data:e,setData:i,errors:l,setError:r,post:g}=y({id:n.id,phone_number:n.phone_number?n.phone_number:"",university:n.university?n.university:"",faculty:n.faculty?n.faculty:"",major:n.major?n.major:""}),[c,p]=j.useState(!1),v=a=>{a.preventDefault();const h=Object.keys(e),d=h.map(s=>e[s]);h.map(s=>{e[s]==""||e[s]==null?r(s,"This field is required!"):String(e[s])[0]==" "?r(s,"This field can't started with space!"):r(s,"")}),d.includes("")||d.includes(null)||d.map(s=>String(s)[0]==" ").includes(!0)||(p(!0),fetch("/api/lengkapi_profil",{method:"post",headers:{accept:"application.json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(s=>s.json()).then(s=>{s.message=="success"&&(f(e),p(!1))}))};return t.jsxs("div",{children:[t.jsx("div",{className:`${m?"":"hidden"} fixed top-0 bottom-0 left-0 right-0 overflow-hidden bg-dark bg-opacity-50 transition-all duration-300 z-50`,onClick:()=>c?()=>{}:u(!1)}),t.jsxs("div",{className:`${m?"md:top-0 bottom-0 md:scale-100":"md:top-full -bottom-full md:scale-0"} fixed left-0 flex flex-col gap-[2vw] w-full md:w-[30vw] h-[55vh] md:h-fit transition-all duration-500 bg-white shadow-md rounded-t-[6vw] md:rounded-[.5vw] p-[8vw] md:p-[1.75vw] z-50 md:ms-[35vw] md:mt-[8vh]`,children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("p",{className:"font-poppins font-semibold text-[4.5vw] md:text-[1.2vw]",children:"Data Diri"}),t.jsx("button",{onClick:()=>c?()=>{}:u(!1),children:t.jsx(x,{className:"text-[6vw] md:text-[1.8vw]"})})]}),t.jsxs("form",{className:"space-y-[8vw] md:space-y-[2vw]",onSubmit:v,children:[t.jsxs("div",{className:"space-y-[3.2vw] md:space-y-[.8vw]",children:[t.jsx(o,{className:"capitalize",type:"number",label:"Nomor Telepon",placeholder:"Masukkan nomor telepon disini",value:e.phone_number,error:l.phone_number,cancelButton:e.phone_number!="",data:e.phone_number,setData:a=>i("phone_number",a),onChange:a=>i("phone_number",a.target.value)}),t.jsx(o,{className:"capitalize",type:"text",label:"Universitas",placeholder:"Masukkan universitas disini",value:e.university,error:l.university,cancelButton:e.university!="",data:e.university,setData:a=>i("university",a),onChange:a=>i("university",a.target.value)}),t.jsx(o,{className:"capitalize",type:"text",label:"Fakultas",placeholder:"Masukkan fakultas disini",value:e.faculty,error:l.faculty,cancelButton:e.faculty!="",data:e.faculty,setData:a=>i("faculty",a),onChange:a=>i("faculty",a.target.value)}),t.jsx(o,{className:"capitalize",type:"text",label:"Jurusan",placeholder:"Masukkan jurusan disini",value:e.major,error:l.major,cancelButton:e.major!="",data:e.major,setData:a=>i("major",a),onChange:a=>i("major",a.target.value)})]}),t.jsx(b,{className:"rounded-md",onClick:v,isLoading:c,children:"Simpan"}),t.jsx("button",{type:"submit",className:"hidden"})]})]})]})};export{D as default};
